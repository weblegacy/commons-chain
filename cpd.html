<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from org.apache.maven.plugins:maven-pmd-plugin:3.20.0:cpd at 2023-05-29
 | Rendered using Apache Maven Fluido Skin 1.11.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Commons Chain &#x2013; CPD Results</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.11.2.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.11.2.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>Commons Chain</h1>
</div>
</div>
          <div class="pull-right"><a href="index.html" id="bannerRight"><img src="images/chain-logo-white.png"  alt="Commons Chain" style="" /></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-05-29<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.3-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Chain</li>
    <li><a href="index.html" title="Overview"><span class="none"></span>Overview</a></li>
    <li><a href="proposal.html" title="Proposal"><span class="none"></span>Proposal</a></li>
    <li><a href="whiteboard.html" title="Whiteboard"><span class="none"></span>Whiteboard</a></li>
    <li><a href="https://github.com/weblegacy/commons-chain/releases" class="externalLink" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="changes-report.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
    <li><a href="cookbook.html" title="Cookbook"><span class="none"></span>Cookbook</a></li>
    <li><a href="apidocs/index.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="https://cwiki.apache.org/confluence/display/commons/Chain" class="externalLink" title="Wiki"><span class="none"></span>Wiki</a></li>
   <li class="nav-header">Development</li>
    <li><a href="mailing-lists.html" title="Mailing Lists"><span class="none"></span>Mailing Lists</a></li>
    <li><a href="issue-management.html" title="Issue Tracking"><span class="none"></span>Issue Tracking</a></li>
    <li><a href="scm.html" title="Source Repository"><span class="none"></span>Source Repository</a></li>
    <li><a href="building.html" title="Building"><span class="none"></span>Building</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-down"></span>Project Reports</a>
     <ul class="nav nav-list">
      <li><a href="dependency-analysis.html" title="Dependency Analysis"><span class="none"></span>Dependency Analysis</a></li>
      <li><a href="changes-report.html" title="Changes"><span class="none"></span>Changes</a></li>
      <li><a href="xref/index.html" title="Source Xref"><span class="none"></span>Source Xref</a></li>
      <li><a href="xref-test/index.html" title="Test Source Xref"><span class="none"></span>Test Source Xref</a></li>
      <li class="active"><a><span class="none"></span>CPD</a></li>
      <li><a href="pmd.html" title="PMD"><span class="none"></span>PMD</a></li>
      <li><a href="checkstyle.html" title="Checkstyle"><span class="none"></span>Checkstyle</a></li>
      <li><a href="japicmp.html" title="japicmp"><span class="none"></span>japicmp</a></li>
      <li><a href="apidocs/index.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
      <li><a href="testapidocs/index.html" title="Test Javadoc"><span class="none"></span>Test Javadoc</a></li>
      <li><a href="jacoco/index.html" title="JaCoCo"><span class="none"></span>JaCoCo</a></li>
      <li><a href="spotbugs.html" title="SpotBugs"><span class="none"></span>SpotBugs</a></li>
     </ul></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="https://pmd.github.io/latest/pmd_userdocs_cpd.html">CPD</a> 6.53.0.</p></section><section>
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletApplicationScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletApplicationScopeMap.html#L42">42</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletApplicationScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletApplicationScopeMap.html#L42">42</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>PortletApplicationScopeMap(PortletContext context) {
        this.context = context;
    }

    @Override
    public void clear() {
        for (String key : keySet()) {
            context.removeAttribute(key);
        }
    }

    @Override
    public boolean containsKey(Object key) {
        return context.getAttribute(key(key)) != null;
    }

    @Override
    public boolean containsValue(Object value) {
        if (value == null) {
            return false;
        }
        Enumeration&lt;?&gt; keys = context.getAttributeNames();
        while (keys.hasMoreElements()) {
            Object next = context.getAttribute(keys.nextElement().toString());
            if (value.equals(next)) {
                return true;
            }
        }
        return false;
    }

    @Override
    public Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet() {
        Set&lt;Map.Entry&lt;String, Object&gt;&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = context.getAttributeNames();
        String key;
        while (keys.hasMoreElements()) {
            key = keys.nextElement().toString();
            set.add(new MapEntry&lt;&gt;(key, context.getAttribute(key), true));
        }
        return set;
    }

    @Override
    public boolean equals(Object o) {
        return context.equals(o);
    }

    @Override
    public Object get(Object key) {
        return context.getAttribute(key(key));
    }

    @Override
    public int hashCode() {
        return context.hashCode();
    }

    @Override
    public boolean isEmpty() {
        return !context.getAttributeNames().hasMoreElements();
    }

    @Override
    public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = context.getAttributeNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public Object put(String key, Object value) {
        if (value == null) {
            return remove(key);
        }
        Object previous = context.getAttribute(key);
        context.setAttribute(key, value);
        return previous;
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends Object&gt; map) {
        map.forEach(this::put);
    }

    @Override
    public Object remove(Object key) {
        String skey = key(key);
        Object previous = context.getAttribute(skey);
        context.removeAttribute(skey);
        return previous;
    }

    @Override
    public int size() {
        int n = 0;
        Enumeration&lt;?&gt; keys = context.getAttributeNames();
        while (keys.hasMoreElements()) {
            keys.nextElement();
            n++;
        }
        return n;
    }

    @Override
    public Collection&lt;Object&gt; values() {
        List&lt;Object&gt; list = new ArrayList&lt;&gt;();
        Enumeration&lt;?&gt; keys = context.getAttributeNames();
        while (keys.hasMoreElements()) {
            list.add(context.getAttribute(keys.nextElement().toString()));
        }
        return list;
    }

    private static String key(Object key) {
        if (key == null) {
            throw new IllegalArgumentException();
        } else if (key instanceof String) {
            return (String) key;
        } else {
            return key.toString();
        }
    }
}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletRequestScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletRequestScopeMap.html#L42">42</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletRequestScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletRequestScopeMap.html#L42">42</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>PortletRequestScopeMap(PortletRequest request) {
        this.request = request;
    }

    @Override
    public void clear() {
        for (String key : keySet()) {
            request.removeAttribute(key);
        }
    }

    @Override
    public boolean containsKey(Object key) {
        return request.getAttribute(key(key)) != null;
    }

    @Override
    public boolean containsValue(Object value) {
        if (value == null) {
            return false;
        }
        Enumeration&lt;?&gt; keys = request.getAttributeNames();
        while (keys.hasMoreElements()) {
            Object next = request.getAttribute(keys.nextElement().toString());
            if (value.equals(next)) {
                return true;
            }
        }
        return false;
    }

    @Override
    public Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet() {
        Set&lt;Map.Entry&lt;String, Object&gt;&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getAttributeNames();
        String key;
        while (keys.hasMoreElements()) {
            key = keys.nextElement().toString();
            set.add(new MapEntry&lt;&gt;(key, request.getAttribute(key), true));
        }
        return set;
    }

    @Override
    public boolean equals(Object o) {
        return request.equals(o);
    }

    @Override
    public Object get(Object key) {
        return request.getAttribute(key(key));
    }

    @Override
    public int hashCode() {
        return request.hashCode();
    }

    @Override
    public boolean isEmpty() {
        return !request.getAttributeNames().hasMoreElements();
    }

    @Override
    public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getAttributeNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public Object put(String key, Object value) {
        if (value == null) {
            return remove(key);
        }
        Object previous = request.getAttribute(key);
        request.setAttribute(key, value);
        return previous;
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends Object&gt; map) {
        map.forEach(this::put);
    }

    @Override
    public Object remove(Object key) {
        String skey = key(key);
        Object previous = request.getAttribute(skey);
        request.removeAttribute(skey);
        return previous;
    }

    @Override
    public int size() {
        int n = 0;
        Enumeration&lt;?&gt; keys = request.getAttributeNames();
        while (keys.hasMoreElements()) {
            keys.nextElement();
            n++;
        }
        return n;
    }

    @Override
    public Collection&lt;Object&gt; values() {
        List&lt;Object&gt; list = new ArrayList&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getAttributeNames();
        while (keys.hasMoreElements()) {
            list.add(request.getAttribute(keys.nextElement().toString()));
        }
        return list;
    }

    private static String key(Object key) {
        if (key == null) {
            throw new IllegalArgumentException();
        } else if (key instanceof String) {
            return (String) key;
        } else {
            return key.toString();
        }
    }
}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletInitParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletInitParamMap.html#L42">42</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletInitParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletInitParamMap.html#L42">42</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>PortletInitParamMap(PortletContext context) {
        this.context = context;
    }

    @Override
    public void clear() {
        throw new UnsupportedOperationException();
    }

    @Override
    public boolean containsKey(Object key) {
        return context.getInitParameter(key(key)) != null;
    }

    @Override
    public boolean containsValue(Object value) {
        Enumeration&lt;?&gt; keys = context.getInitParameterNames();
        while (keys.hasMoreElements()) {
            Object next = context.getInitParameter(keys.nextElement().toString());
            if (value.equals(next)) {
                return true;
            }
        }
        return false;
    }

    @Override
    public Set&lt;Map.Entry&lt;String, String&gt;&gt; entrySet() {
        Set&lt;Map.Entry&lt;String, String&gt;&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = context.getInitParameterNames();
        String key;
        while (keys.hasMoreElements()) {
            key = keys.nextElement().toString();
            set.add(new MapEntry&lt;&gt;(key, context.getInitParameter(key), false));
        }
        return set;
    }

    @Override
    public boolean equals(Object o) {
        return context.equals(o);
    }

    @Override
    public String get(Object key) {
        return context.getInitParameter(key(key));
    }

    @Override
    public int hashCode() {
        return context.hashCode();
    }

    @Override
    public boolean isEmpty() {
        return !context.getInitParameterNames().hasMoreElements();
    }

    @Override
    public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = context.getInitParameterNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String put(String key, String value) {
        throw new UnsupportedOperationException();
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends String&gt; map) {
        throw new UnsupportedOperationException();
    }

    @Override
    public String remove(Object key) {
        throw new UnsupportedOperationException();
    }

    @Override
    public int size() {
        int n = 0;
        Enumeration&lt;?&gt; keys = context.getInitParameterNames();
        while (keys.hasMoreElements()) {
            keys.nextElement();
            n++;
        }
        return n;
    }

    @Override
    public Collection&lt;String&gt; values() {
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        Enumeration&lt;?&gt; keys = context.getInitParameterNames();
        while (keys.hasMoreElements()) {
            list.add(context.getInitParameter(keys.nextElement().toString()));
        }
        return list;
    }

    private static String key(Object key) {
        if (key == null) {
            throw new IllegalArgumentException();
        } else if (key instanceof String) {
            return (String) key;
        } else {
            return key.toString();
        }
    }
}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletCookieMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletCookieMap.html#L39">39</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletCookieMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletCookieMap.html#L40">40</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>PortletCookieMap(PortletRequest request) {
        this.request = request;
    }

    @Override
    public void clear() {
        throw new UnsupportedOperationException();
    }

    @Override
    public boolean containsKey(Object key) {
        return get(key) != null;
    }

    @Override
    public boolean containsValue(Object value) {
        Cookie[] cookies = request.getCookies();
        if (cookies != null) {
            for (Cookie cookie : cookies) {
                if (cookie.equals(value)) {
                    return true;
                }
            }
        }
        return false;
    }

    @Override
    public Set&lt;Map.Entry&lt;String, Cookie&gt;&gt; entrySet() {
        Set&lt;Map.Entry&lt;String, Cookie&gt;&gt; set = new HashSet&lt;&gt;();
        Cookie[] cookies = request.getCookies();
        if (cookies != null) {
            for (Cookie cookie : cookies) {
                set.add(new MapEntry&lt;&gt;(cookie.getName(), cookie, false));
            }
        }
        return set;
    }

    @Override
    public boolean equals(Object o) {
        return request.equals(o);
    }

    @Override
    public Cookie get(Object key) {
        Cookie[] cookies = request.getCookies();
        if (cookies != null) {
            String skey = key(key);
            for (Cookie cookie : cookies) {
                if (cookie.getName().equals(skey)) {
                    return cookie;
                }
            }
        }
        return null;
    }

    @Override
    public int hashCode() {
        return request.hashCode();
    }

    @Override
    public boolean isEmpty() {
        return request.getCookies().length == 0;
    }

    @Override
    public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Cookie[] cookies = request.getCookies();
        if (cookies != null) {
            for (Cookie cookie : cookies) {
                set.add(cookie.getName());
            }
        }
        return set;
    }

    @Override
    public Cookie put(String key, Cookie value) {
        throw new UnsupportedOperationException();
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends Cookie&gt; map) {
        throw new UnsupportedOperationException();
    }

    @Override
    public Cookie remove(Object key) {
        throw new UnsupportedOperationException();
    }

    @Override
    public int size() {
        Cookie[] cookies = request.getCookies();
        return cookies == null ?  0 : cookies.length;
    }

    @Override
    public Collection&lt;Cookie&gt; values() {
        Cookie[] cookies = request.getCookies();
        return Arrays.asList(cookies);
    }

    private static String key(Object key) {
        if (key == null) {
            throw new IllegalArgumentException();
        } else if (key instanceof String) {
            return (String) key;
        } else {
            return key.toString();
        }
    }
}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletSessionScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletSessionScopeMap.html#L88">88</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletSessionScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletSessionScopeMap.html#L86">86</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>session.getAttributeNames(PortletSession.PORTLET_SCOPE);
            String key;
            while (keys.hasMoreElements()) {
                key = keys.nextElement().toString();
                set.add(new MapEntry&lt;&gt;(key, session.getAttribute(key), true));
            }
        }
        return set;
    }

    @Override
    public boolean equals(Object o) {
        if (sessionExists()) {
            return session.equals(o);
        } else {
            return false;
        }
    }

    @Override
    public Object get(Object key) {
        if (sessionExists()) {
            return session.getAttribute(key(key));
        } else {
            return null;
        }
    }

    @Override
    public int hashCode() {
        if (sessionExists()) {
            return session.hashCode();
        } else {
            return 0;
        }
    }

    @Override
    public boolean isEmpty() {
        return !(sessionExists() &amp;&amp; session.getAttributeNames().hasMoreElements());
    }

    @Override
    public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        if (sessionExists()) {
            Enumeration&lt;?&gt; keys =
                session.getAttributeNames(PortletSession.PORTLET_SCOPE);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/ChainListener.java</td>
<td><a href="./xref/org/apache/commons/chain/web/ChainListener.html#L229">229</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/ChainListener.java</td>
<td><a href="./xref/org/apache/commons/chain/web/ChainListener.html#L289">289</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>private void parseJarResources(ServletContext context,
                                   ConfigParser parser, Log log) {

        Set&lt;?&gt; jars = context.getResourcePaths(&quot;/WEB-INF/lib&quot;);
        if (jars == null) {
            jars = Collections.emptySet();
        }
        String path = null;
        Iterator&lt;?&gt; paths = jars.iterator();
        while (paths.hasNext()) {

            path = paths.next().toString();
            if (!path.endsWith(&quot;.jar&quot;)) {
                continue;
            }
            URL resourceURL = null;
            try {
                URL jarURL = context.getResource(path);
                resourceURL = new URL(&quot;jar:&quot;
                                      + translate(jarURL.toExternalForm())
                                      + &quot;!/META-INF/chain-config.xml&quot;);
                InputStream is = null;
                try {
                    is = resourceURL.openStream();
                } catch (Exception e) {
                      // means there is no such resource
                }
                if (is == null) {
                    if (log.isDebugEnabled()) {
                        log.debug(&quot;Not Found: &quot; + resourceURL);
                    }
                    continue;
                } else {
                    is.close();
                }
                if (log.isDebugEnabled()) {
                    log.debug(&quot;Parsing: &quot; + resourceURL);
                }
                parser.parse(resourceURL);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/ChainListener.java</td>
<td><a href="./xref/org/apache/commons/chain/web/ChainListener.html#L167">167</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/ChainServlet.java</td>
<td><a href="./xref/org/apache/commons/chain/web/ChainServlet.html#L164">164</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>String attr = context.getInitParameter(CONFIG_ATTR);
        String classResources =
            context.getInitParameter(CONFIG_CLASS_RESOURCE);
        String ruleSet = context.getInitParameter(RULE_SET);
        String webResources = context.getInitParameter(CONFIG_WEB_RESOURCE);

        // Retrieve or create the Catalog instance we may be updating
        Catalog&lt;?&gt; catalog = null;
        if (attr != null) {
            catalog = (Catalog&lt;?&gt;) context.getAttribute(attr);
            if (catalog == null) {
                catalog = new CatalogBase&lt;&gt;();
            }
        }

        // Construct the configuration resource parser we will use
        ConfigParser parser = new ConfigParser();
        if (ruleSet != null) {
            try {
                ClassLoader loader =
                    Thread.currentThread().getContextClassLoader();
                if (loader == null) {
                    loader = this.getClass().getClassLoader();
                }
                Class&lt;? extends RuleSet&gt; clazz = loader
                        .loadClass(ruleSet)
                        .asSubclass(RuleSet.class);
                parser.setRuleSet(clazz.getDeclaredConstructor().newInstance());
            } catch (Exception e) {
                throw new RuntimeException(&quot;Exception initalizing RuleSet '&quot;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/ChainResources.java</td>
<td><a href="./xref/org/apache/commons/chain/web/ChainResources.html#L54">54</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/ChainResources.java</td>
<td><a href="./xref/org/apache/commons/chain/web/ChainResources.html#L97">97</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>static void parseClassResources(String resources,
                                    ConfigParser parser) {

        if (resources == null) {
            return;
        }
        Log log = LogFactory.getLog(ChainResources.class);
        ClassLoader loader =
            Thread.currentThread().getContextClassLoader();
        if (loader == null) {
            loader = ChainResources.class.getClassLoader();
        }
        String[] paths = getResourcePaths(resources);
        String path = null;
        try {
            for (String path2 : paths) {
                path = path2;
                URL url = loader.getResource(path);
                if (url == null) {
                    throw new IllegalStateException(&quot;Missing chain config resource '&quot; + path + &quot;'&quot;);
                }
                if (log.isDebugEnabled()) {
                    log.debug(&quot;Loading chain config resource '&quot; + path + &quot;'&quot;);
                }
                parser.parse(url);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletSessionScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletSessionScopeMap.html#L152">152</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletSessionScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletSessionScopeMap.html#L149">149</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>session = request.getPortletSession();
            request = null;
        }

        Object previous = session.getAttribute(key);
        session.setAttribute(key, value);
        return previous;
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends Object&gt; map) {
        map.forEach(this::put);
    }

    @Override
    public Object remove(Object key) {
        if (sessionExists()) {
            String skey = key(key);
            Object previous = session.getAttribute(skey);
            session.removeAttribute(skey);
            return previous;
        } else {
            return null;
        }
    }

    @Override
    public int size() {
        int n = 0;
        if (sessionExists()) {
            Enumeration&lt;?&gt; keys =
                session.getAttributeNames(PortletSession.PORTLET_SCOPE);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletParamValuesMap.html#L112">112</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamValuesMap.html#L106">106</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getParameterNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String[] put(String key, String[] value) {
        throw new UnsupportedOperationException();
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends String[]&gt; map) {
        throw new UnsupportedOperationException();
    }

    @Override
    public String[] remove(Object key) {
        throw new UnsupportedOperationException();
    }

    @Override</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletParamMap.html#L107">107</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamMap.html#L101">101</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getParameterNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String put(String key, String value) {
        throw new UnsupportedOperationException();
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends String&gt; map) {
        throw new UnsupportedOperationException();
    }

    @Override
    public String remove(Object key) {
        throw new UnsupportedOperationException();
    }

    @Override</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletParamMap.html#L91">91</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/portlet/PortletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletParamValuesMap.html#L96">96</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>return request.getParameter(key(key));
    }

    @Override
    public int hashCode() {
        return request.hashCode();
    }

    @Override
    @SuppressWarnings(&quot;deprecation&quot;)
    public boolean isEmpty() {
        return !request.getParameterNames().hasMoreElements();
    }

    @Override
    @SuppressWarnings(&quot;deprecation&quot;)
    public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getParameterNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String put(String key, String value) {</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletParamValuesMap.html#L77">77</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamValuesMap.html#L74">74</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>public Set&lt;Map.Entry&lt;String, String[]&gt;&gt; entrySet() {
        Set&lt;Map.Entry&lt;String, String[]&gt;&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getParameterNames();
        String key;
        while (keys.hasMoreElements()) {
            key = keys.nextElement().toString();
            set.add(new MapEntry&lt;&gt;(key, request.getParameterValues(key), false));
        }
        return set;
    }

    @Override
    public boolean equals(Object o) {
        return request.equals(o);
    }

    @Override</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletSessionScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletSessionScopeMap.html#L44">44</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletSessionScopeMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletSessionScopeMap.html#L44">44</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>PortletSessionScopeMap(PortletRequest request) {
        this.request = request;
        sessionExists();
    }

    @Override
    public void clear() {
        if (sessionExists()) {
            for (String key : keySet()) {
                session.removeAttribute(key);
            }
        }
    }

    @Override
    public boolean containsKey(Object key) {
        if (sessionExists()) {
            return session.getAttribute(key(key)) != null;
        } else {
            return false;
        }
    }

    @Override
    public boolean containsValue(Object value) {
        if (value == null || !sessionExists()) {
            return false;
        }
        Enumeration&lt;?&gt; keys =
            session.getAttributeNames(PortletSession.PORTLET_SCOPE);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/servlet/ServletHeaderValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletHeaderValuesMap.html#L108">108</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamValuesMap.html#L108">108</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>Enumeration&lt;?&gt; keys = request.getHeaderNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String[] put(String key, String[] value) {
        throw new UnsupportedOperationException();
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends String[]&gt; map) {
        throw new UnsupportedOperationException();
    }

    @Override
    public String[] remove(Object key) {
        throw new UnsupportedOperationException();
    }

    @Override
    public int size() {
        int n = 0;
        Enumeration&lt;?&gt; keys = request.getHeaderNames();</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletParamValuesMap.html#L150">150</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamValuesMap.html#L142">142</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>public Collection&lt;String[]&gt; values() {
        List&lt;String[]&gt; list = new ArrayList&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getParameterNames();
        while (keys.hasMoreElements()) {
            list.add(request.getParameterValues(keys.nextElement().toString()));
        }
        return list;
    }

    private static String key(Object key) {
        if (key == null) {
            throw new IllegalArgumentException();
        } else if (key instanceof String) {
            return (String) key;
        } else {
            return key.toString();
        }
    }
}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletParamMap.html#L72">72</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamMap.html#L69">69</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>public Set&lt;Map.Entry&lt;String, String&gt;&gt; entrySet() {
        Set&lt;Map.Entry&lt;String, String&gt;&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getParameterNames();
        String key;
        while (keys.hasMoreElements()) {
            key = keys.nextElement().toString();
            set.add(new MapEntry&lt;&gt;(key, request.getParameter(key), false));
        }
        return set;
    }

    @Override
    public boolean equals(Object o) {
        return request.equals(o);
    }

    @Override</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/servlet/ServletHeaderMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletHeaderMap.html#L103">103</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamMap.html#L103">103</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>Enumeration&lt;?&gt; keys = request.getHeaderNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String put(String key, String value) {
        throw new UnsupportedOperationException();
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends String&gt; map) {
        throw new UnsupportedOperationException();
    }

    @Override
    public String remove(Object key) {
        throw new UnsupportedOperationException();
    }

    @Override
    public int size() {
        int n = 0;
        Enumeration&lt;?&gt; keys = request.getHeaderNames();</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/ChainResources.java</td>
<td><a href="./xref/org/apache/commons/chain/web/ChainResources.html#L136">136</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/ChainResources.java</td>
<td><a href="./xref/org/apache/commons/chain/web/ChainResources.html#L176">176</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>static void parseWebResources(ServletContext context,
                                  String resources,
                                  ConfigParser parser) {

        if (resources == null) {
            return;
        }
        Log log = LogFactory.getLog(ChainResources.class);
        String[] paths = getResourcePaths(resources);
        String path = null;
        try {
            for (String path2 : paths) {
                path = path2;
                URL url = context.getResource(path);
                if (url == null) {
                    throw new IllegalStateException(&quot;Missing chain config resource '&quot; + path + &quot;'&quot;);
                }
                if (log.isDebugEnabled()) {
                    log.debug(&quot;Loading chain config resource '&quot; + path + &quot;'&quot;);
                }
                parser.parse(url);</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/portlet/PortletInitParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/portlet/PortletInitParamMap.html#L103">103</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletHeaderMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletHeaderMap.html#L103">103</a></td></tr>
<tr class="b">
<td>org/apache/commons/chain/web/servlet/ServletInitParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletInitParamMap.html#L103">103</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamMap.html#L103">103</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>Enumeration&lt;?&gt; keys = context.getInitParameterNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String put(String key, String value) {
        throw new UnsupportedOperationException();
    }

    @Override
    public void putAll(Map&lt;? extends String, ? extends String&gt; map) {
        throw new UnsupportedOperationException();
    }

    @Override
    public String remove(Object key) {
        throw new UnsupportedOperationException();
    }

    @Override
    public int size() {
        int n = 0;
        Enumeration&lt;?&gt; keys = context.getInitParameterNames();</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/servlet/ServletParamMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamMap.html#L87">87</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletParamValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletParamValuesMap.html#L92">92</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>return request.getParameter(key(key));
    }

    @Override
    public int hashCode() {
        return request.hashCode();
    }

    @Override
    public boolean isEmpty() {
        return !request.getParameterNames().hasMoreElements();
    }

    @Override
    public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getParameterNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String put(String key, String value) {</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/apache/commons/chain/web/servlet/ServletHeaderMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletHeaderMap.html#L87">87</a></td></tr>
<tr class="a">
<td>org/apache/commons/chain/web/servlet/ServletHeaderValuesMap.java</td>
<td><a href="./xref/org/apache/commons/chain/web/servlet/ServletHeaderValuesMap.html#L92">92</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>return request.getHeader(key(key));
    }

    @Override
    public int hashCode() {
        return request.hashCode();
    }

    @Override
    public boolean isEmpty() {
        return !request.getHeaderNames().hasMoreElements();
    }

    @Override
    public Set&lt;String&gt; keySet() {
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        Enumeration&lt;?&gt; keys = request.getHeaderNames();
        while (keys.hasMoreElements()) {
            set.add(keys.nextElement().toString());
        }
        return set;
    }

    @Override
    public String put(String key, String value) {</pre></div></td></tr></table></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2003&#x2013;2023
<a href="https://www.apache.org">Apache Software Foundation</a>
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
